[{"/Users/andiwillfly/Desktop/WORK/flat_map/src/App.js":"1","/Users/andiwillfly/Desktop/WORK/flat_map/src/models/map.model.js":"2","/Users/andiwillfly/Desktop/WORK/flat_map/src/reportWebVitals.js":"3","/Users/andiwillfly/Desktop/WORK/flat_map/src/map/canvasIcon.js":"4","/Users/andiwillfly/Desktop/WORK/flat_map/src/map/canvasMarker.js":"5","/Users/andiwillfly/Desktop/WORK/flat_map/src/components/Map.cmponent.js":"6","/Users/andiwillfly/Desktop/WORK/flat_map/src/components/Filters.component.js":"7","/Users/andiwillfly/Desktop/WORK/flat_map/src/index.js":"8","/Users/andiwillfly/Desktop/WORK/flat_map/src/components/Popup.component.js":"9"},{"size":444,"mtime":1612349100963,"results":"10","hashOfConfig":"11"},{"size":5427,"mtime":1624350588097,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":1612175819235,"results":"13","hashOfConfig":"11"},{"size":1666,"mtime":1612263065889,"results":"14","hashOfConfig":"15"},{"size":893,"mtime":1612283692059,"results":"16","hashOfConfig":"15"},{"size":394,"mtime":1612349472426,"results":"17","hashOfConfig":"11"},{"size":2487,"mtime":1613816211757,"results":"18","hashOfConfig":"11"},{"size":500,"mtime":1612175819234,"results":"19","hashOfConfig":"11"},{"size":4921,"mtime":1615019213573,"results":"20","hashOfConfig":"11"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"8xy0zz",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},"z5j735",{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},"/Users/andiwillfly/Desktop/WORK/flat_map/src/App.js",[],"/Users/andiwillfly/Desktop/WORK/flat_map/src/models/map.model.js",[],"/Users/andiwillfly/Desktop/WORK/flat_map/src/reportWebVitals.js",[],"/Users/andiwillfly/Desktop/WORK/flat_map/src/map/canvasIcon.js",["42"],"import L from 'leaflet';\nimport mapModel from '../models/map.model';\n\n\n(function () {\n\n    /**\n     * Canvas Icon\n     * @type {L.CanvasIcon}\n     * @extends {L.Icon}\n     */\n    L.CanvasIcon = L.Icon.extend({\n        options: {\n            iconSize: [mapModel.dotSize, mapModel.dotSize],\n            iconAnchor: [mapModel.dotSize/2, mapModel.dotSize/2],\n            drawIcon: null,\n            className: 'leaflet-canvas-icon'\n        },\n\n        /**\n         * @param {HTMLElement} icon\n         * @returns {HTMLCanvasElement}\n         */\n        createIcon: function (icon) {\n            var size = L.point(this.options.iconSize);\n\n            if (!icon || (icon.tagName != 'CANVAS')) {\n                icon = document.createElement('canvas');\n            }\n\n            icon.width = size.x;\n            icon.height = size.y;\n\n            this._setIconStyles(icon, 'icon');\n\n            return icon;\n        },\n\n        /**\n         * @param {HTMLElement} icon\n         * @returns {null}\n         */\n        createShadow: function (icon) {\n            return null;\n        },\n\n        /**\n         * @param {HTMLElement} icon\n         * @param {string} type\n         * @private\n         */\n        _setIconStyles: function (icon, type) {\n            if (typeof this.options.drawIcon == 'function') {\n                this.options.drawIcon.apply(this, arguments);\n            }\n\n            L.Icon.prototype._setIconStyles.apply(this, arguments);\n        }\n    });\n\n    /**\n     * Canvas Icon factory\n     * @param {Object} options\n     * @returns {L.CanvasIcon}\n     */\n    L.canvasIcon = function (options) {\n        return new L.CanvasIcon(options);\n    };\n})();","/Users/andiwillfly/Desktop/WORK/flat_map/src/map/canvasMarker.js",["43"],"/Users/andiwillfly/Desktop/WORK/flat_map/src/components/Map.cmponent.js",[],"/Users/andiwillfly/Desktop/WORK/flat_map/src/components/Filters.component.js",["44"],"import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { observable } from \"mobx\";\nimport DB from \"../server/DB.json\";\n// Models\nimport mapModel from \"../models/map.model\";\n\n\nclass Filters extends React.Component {\n\n    form = observable({\n        isLoadingOffers: false,\n        selectedTypes: []\n    });\n\n\n    timeout = null;\n    onSearch = (e)=> {\n        clearTimeout(this.timeout);\n        this.timeout = setTimeout((text)=> {\n            mapModel.update({\n                filters: {\n                    ...mapModel.filters,\n                    query: text\n                }\n            });\n            mapModel.redraw();\n        }, 400, e.target.value);\n    };\n\n\n    onNewClick = (isShowOnlyNew)=> {\n        mapModel.update({\n            filters: {\n                ...mapModel.filters,\n                isShowOnlyNew\n            }\n        });\n        mapModel.redraw();\n    };\n\n\n    runParser = async ()=> {\n        this.form.isLoadingOffers = true;\n        try {\n            let result = await fetch('http://localhost:4000/start-parser');\n            this.form.isLoadingOffers = false;\n            console.log(await result.text(), '??');\n        } catch(e) {\n            console.log(e, '??');\n            this.form.isLoadingOffers = false;\n        }\n    }\n\n\n    render() {\n        return (\n            <div className='filters'>\n                <input type=\"search\"\n                       placeholder='Поиск по контенту'\n                       onChange={ this.onSearch } />\n                <br/>\n                <i style={{ fontSize: 11 }}>всего найдено квартир: { mapModel.filteredOffers.length }</i>\n\n                <br/>\n                <br/>\n                <label htmlFor=\"new\">\n                    Показывать только новые\n                    <input type=\"checkbox\"\n                           className='checkbox'\n                           id='new'\n                           value={ mapModel.filters.isShowOnlyNew }\n                           onClick={ (e)=> this.onNewClick(e.target.checked) } />\n                </label>\n\n                <br/>\n                <br/>\n                <button disabled={ this.form.isLoadingOffers }\n                        onClick={ this.runParser }>\n                    { this.form.isLoadingOffers ? 'Ищем варианты...' : 'Запустить парсер' }\n                </button>\n            </div>\n        );\n    }\n}\n\nexport default observer(Filters);\n","/Users/andiwillfly/Desktop/WORK/flat_map/src/index.js",[],"/Users/andiwillfly/Desktop/WORK/flat_map/src/components/Popup.component.js",["45","46"],"import React from \"react\";\nimport { formatDistance } from 'date-fns';\nimport { observer } from 'mobx-react';\nimport mapModel from \"../models/map.model\";\n\n\nconst formatter = new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'USD' });\n\n\nclass Popup extends React.Component {\n\n    renderOfferPopup = (offer, size)=> {\n        offer = offer.values_;\n\n        return (\n            <div key={ offer.id } style={{ marginBottom: 10, padding: 3, position: 'relative' }}>\n                <a href={ offer.link }\n                   target=\"_blank\"\n                   style={{ fontSize: 12 }}>{ offer.address }</a>\n                <div>\n                    <b style={{ color: '#ff6a16', fontSize: 12 }}>{ formatter.format(offer.price) }</b>\n                </div>\n\n                { Date.now() - offer.createdAt < mapModel.newMs ?\n                    <div style={{\n                        position: 'absolute',\n                        top: 0,\n                        right: 0,\n                        left: 0,\n                        height: 5,\n                        background: 'orange'\n                    }} />\n                    : null }\n\n                <div style={{\n                    width: size,\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    margin: '4px 0',\n                    justifyContent: 'start'\n                }}>\n                    <img src={ offer.img }\n                         style={{\n                             maxWidth: size - 10,\n                             objectFit: 'contain',\n                             margin: 1,\n                             maxHeight: size - 5\n                         }} />\n                </div>\n                <b style={{ fontSize: 10 }}>{ formatDistance(new Date(offer.createdAt), new Date()) }</b>\n\n                { offer.square ? <div style={{ fontSize: 10 }}><b>{offer.square} м²</b></div> : null }\n                { offer.rooms ? <div style={{ fontSize: 10 }}><i>комнат { offer.rooms }</i></div> : null }\n                { offer.floor && offer.floor[0] ? <div style={{ fontSize: 10 }}><i>этаж {offer.floor[0]} из {offer.floor[1]}</i></div> : null }\n                {/*<div style={{ fontSize: 10 }}><i>{ offer.description && offer.description.slice(0, 200) + '...' }</i></div>*/}\n                {/*<div style={{ fontSize: 10 }}><i>{ offer.geo.address && offer.geo.address.label }</i></div>*/}\n                <div style={{ fontSize: 10, color: 'green' }}>({ offer.source })</div>\n            </div>\n        );\n    }\n\n\n    render() {\n        return (\n            <div className='popup'>\n\n                { mapModel.hoveredOffers.list.length ?\n                    <div id=\"smallPopup\" style={{\n                        position: 'fixed',\n                        maxWidth: Math.ceil(Math.sqrt(mapModel.hoveredOffers.list.length)) * 150,\n                        background: 'white',\n                        lineHeight: '100%',\n                        display: 'grid',\n                        gridTemplateColumns: `repeat(${Math.ceil(Math.sqrt(mapModel.hoveredOffers.list.length))}, 1fr)`,\n                        gridTemplateRows: `repeat(${Math.round(Math.sqrt(mapModel.hoveredOffers.list.length))}, 1fr)`,\n                        gridColumnGap: 3,\n                        gridRowGap: 3,\n                        top: mapModel.hoveredOffers.top,\n                        boxShadow: '0px 0px 38px 10px rgba(143,143,143,1)',\n                        left: mapModel.hoveredOffers.left,\n                        zIndex: 100\n                    }}>\n                        { mapModel.hoveredOffers.list.map((offer)=> this.renderOfferPopup(offer,100)) }\n                    </div>\n                    :\n                    null }\n\n                { mapModel.selectedOffers.length ?\n                    <div id=\"info\" style={{\n                        position: 'fixed',\n                        bottom: 5,\n                        lineHeight: '100%',\n                        right: 5,\n                        zIndex: 101,\n                        overflow: 'auto',\n                        maxHeight: '90vh',\n                        width: 300,\n                        boxShadow: '0px 0px 38px 10px rgba(143,143,143,1)',\n                        display: 'gr id',\n                        gridTemplateColumns: `repeat(${Math.ceil(Math.sqrt(mapModel.selectedOffers.length))}, 1fr)`,\n                        gridTemplateRows: `repeat(${Math.ceil(Math.sqrt(mapModel.selectedOffers.length))}, 1fr)`,\n                        gridColumnGap: 3,\n                        gridRowGap: 3,\n                        background: 'whitesmoke',\n                        padding: 5\n                    }}>\n                        { mapModel.selectedOffers.map(flat => this.renderOfferPopup(flat, 295)) }\n                    </div>\n                    : null }\n            </div>\n        );\n    }\n}\n\nexport default observer(Popup);\n",{"ruleId":"47","severity":1,"message":"48","line":27,"column":40,"nodeType":"49","messageId":"50","endLine":27,"endColumn":42},{"ruleId":"51","severity":1,"message":"52","line":4,"column":1,"nodeType":"53","endLine":27,"endColumn":2},{"ruleId":"54","severity":1,"message":"55","line":4,"column":8,"nodeType":"56","messageId":"57","endLine":4,"endColumn":10},{"ruleId":"58","severity":1,"message":"59","line":18,"column":20,"nodeType":"60","endLine":18,"endColumn":35},{"ruleId":"61","severity":1,"message":"62","line":42,"column":21,"nodeType":"63","endLine":48,"endColumn":31},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","no-unused-vars","'DB' is defined but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement"]